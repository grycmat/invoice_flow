<div class="container">
    <header class="header">
        <div class="logo">InvoiceFlow</div>
        <a href="#" class="back-btn">
            <span>‚Üê</span>
            <span>Back to Dashboard</span>
        </a>
    </header>

    <div class="form-card">
        <h1 class="form-title">Create New Invoice</h1>
        <p class="form-subtitle">Generate professional invoices with ease</p>

        <form id="invoiceForm">
            <!-- Invoice Details -->
            <div class="form-section">
                <h2 class="section-title">Invoice Details</h2>
                <div class="form-grid form-grid-3">
                    <div class="form-group">
                        <label class="form-label">Invoice Number</label>
                        <input type="text" class="form-input" id="invoiceNumber" placeholder="e.g., 15/2025" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Issue Date</label>
                        <input type="date" class="form-input" id="issueDate" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Sale Date</label>
                        <input type="date" class="form-input" id="saleDate" required>
                    </div>
                </div>
                <div class="form-grid form-grid-3">
                    <div class="form-group">
                        <label class="form-label">Payment Method</label>
                        <select class="form-input form-select" id="paymentMethod" required>
                            <option value="">Select method</option>
                            <option value="transfer">Bank Transfer</option>
                            <option value="cash">Cash</option>
                            <option value="card">Card</option>
                            <option value="check">Check</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Payment Due Date</label>
                        <input type="date" class="form-input" id="dueDate" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Currency</label>
                        <select class="form-input form-select" id="currency">
                            <option value="PLN">PLN</option>
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                            <option value="GBP">GBP</option>
                        </select>
                    </div>
                </div>
            </div>

            <app-company-data title="Seller Information" [showBankAccount]="true" [companyData]="sellerData"
                (companyDataChange)="onSellerDataChange($event)">
            </app-company-data>

            <app-company-data title="Buyer Information" [showBankAccount]="false" [companyData]="buyerData"
                (companyDataChange)="onBuyerDataChange($event)">
            </app-company-data>

            <app-invoice-items [items]="invoiceItems" (itemsChange)="onItemsChange($event)">
            </app-invoice-items>

            <!-- Totals -->
            <div class="form-section">
                <div class="totals-section">
                    <div class="totals-grid">
                        <span class="total-label">Subtotal:</span>
                        <span class="total-value" id="subtotal">0.00 PLN</span>

                        <span class="total-label">Tax:</span>
                        <span class="total-value" id="tax">0.00 PLN</span>

                        <span class="total-label total-final">Total Amount:</span>
                        <span class="total-value total-final" id="totalAmount">0.00 PLN</span>

                        <span class="total-label">Paid:</span>
                        <input type="number" class="form-input" id="paidAmount" value="0" min="0" step="0.01"
                            style="text-align: right;">

                        <span class="total-label">Remaining:</span>
                        <span class="total-value" id="remaining">0.00 PLN</span>
                    </div>
                </div>
            </div>

            <!-- Notes -->
            <div class="form-section">
                <h2 class="section-title">Additional Information</h2>
                <div class="form-group">
                    <label class="form-label">Notes</label>
                    <textarea class="form-input form-textarea" id="notes"
                        placeholder="Additional notes or comments (optional)" rows="4"></textarea>
                </div>
            </div>

            <!-- Form Actions -->
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="saveDraft()">Save as Draft</button>
                <button type="button" class="btn btn-secondary" onclick="previewInvoice()">Preview</button>
                <button type="submit" class="btn btn-primary">Generate Invoice</button>
            </div>
        </form>
    </div>
</div>